
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Tylko wybrane kraje UE/non-UE</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <style> html, body, #map { height: 100%; margin: 0; } </style>
</head>
<body>
<div id="map"></div>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
var map = L.map('map', {
  center: [52, 15],
  zoom: 4,
  minZoom: 3,
  maxZoom: 7,
  maxBounds: [[30, -20], [70, 50]]
});
L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
  attribution: 'Map data © OpenStreetMap contributors'
}).addTo(map);

var countries = {
  "Albania": "EU(非欧盟)",
  "Belarus": "EU(非欧盟)",
  "Bosnia and Herzegovina": "EU(非欧盟)",
  "Georgia": "EU(非欧盟)",
  "Iceland": "EU(非欧盟)",
  "Israel": "EU(非欧盟)",
  "Macedonia": "EU(非欧盟)",
  "Norway": "EU(非欧盟)",
  "Russia": "EU(非欧盟)",
  "Serbia": "EU(非欧盟)",
  "Montenegro": "EU(非欧盟)",
  "Switzerland": "EU(非欧盟)",
  "Turkey": "EU(非欧盟)",
  "Ukraine": "EU(非欧盟)",
  "United Arab Emirates": "EU(非欧盟)",
  "United Kingdom": "EU(非欧盟)",
  "Yugoslavia": "EU(非欧盟)",
  "Azerbaijan": "EU(非欧盟)",
  "Kosovo": "EU(非欧盟)",
  "Moldova": "EU(非欧盟)",
  "Cyprus": "EU(欧盟)",
  "Belgium": "EU(欧盟)",
  "Bulgaria": "EU(欧盟)",
  "Croatia": "EU(欧盟)",
  "Czech": "EU(欧盟)",
  "Denmark": "EU(欧盟)",
  "Estonia": "EU(欧盟)",
  "Finland": "EU(欧盟)",
  "France": "EU(欧盟)",
  "Germany": "EU(欧盟)",
  "Greece": "EU(欧盟)",
  "Hungary": "EU(欧盟)",
  "Ireland": "EU(欧盟)",
  "Italy": "EU(欧盟)",
  "Latvia": "EU(欧盟)",
  "Lithuania": "EU(欧盟)",
  "Malta": "EU(欧盟)",
  "Netherlands": "EU(欧盟)",
  "Poland": "EU(欧盟)",
  "Portugal": "EU(欧盟)",
  "Romania": "EU(欧盟)",
  "Slovakia": "EU(欧盟)",
  "Slovenia": "EU(欧盟)",
  "Spain": "EU(欧盟)",
  "Sweden": "EU(欧盟)",
  "Austria": "EU(欧盟)",
  "Luxembourg": "EU(欧盟)",
};

const regionColors = {
  "EU(欧盟)": "#2ecc71",
  "EU(非欧盟)": "#3498db"
};

const countryShapes = {
  "Austria":"AT","Belgium":"BE","Bulgaria":"BG","Croatia":"HR","Cyprus":"CY","Czech":"CZ","Denmark":"DK",
  "Estonia":"EE","Finland":"FI","France":"FR","Germany":"DE","Greece":"GR","Hungary":"HU","Ireland":"IE",
  "Italy":"IT","Latvia":"LV","Lithuania":"LT","Luxembourg":"LU","Malta":"MT","Netherlands":"NL","Poland":"PL",
  "Portugal":"PT","Romania":"RO","Slovakia":"SK","Slovenia":"SI","Spain":"ES","Sweden":"SE",
  "Albania":"AL","Belarus":"BY","Bosnia and Herzegovina":"BA","Georgia":"GE","Iceland":"IS","Israel":"IL",
  "Macedonia":"MK","Norway":"NO","Russia":"RU","Serbia":"RS","Montenegro":"ME","Switzerland":"CH",
  "Turkey":"TR","Ukraine":"UA","United Arab Emirates":"AE","United Kingdom":"GB","Yugoslavia":"RS",
  "Azerbaijan":"AZ","Kosovo":"XK","Moldova":"MD"
};

Object.entries(countryShapes).forEach(([name, code]) => {
  if (!countries[name]) return;
  fetch('https://raw.githubusercontent.com/datasets/geo-countries/master/data/' + code + '.geojson')
    .then(resp => resp.json())
    .then(data => {
      L.geoJSON(data, {
        style: function () {
          return {
            color: "#333",
            weight: 1,
            fillColor: regionColors[countries[name]],
            fillOpacity: 0.7
          };
        }
      }).addTo(map).bindTooltip(name, {{permanent: true, direction: "center", className: "country-label"}});
    });
});
</script>
</body>
</html>
